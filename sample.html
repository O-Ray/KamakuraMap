<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>鎌倉Map-Start</title>
	<link href="css/style.css" rel="stylesheet">
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->

</head>
<body>
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://maps.googleapis.com/maps/api/js"></script>
<script type="text/javascript">
/* ========================================================================
   Attribute Latitude And Longitude From Address With Google Maps API
 ========================================================================== */
$(function(){
    function attrLatLngFromAddress(address){
        var geocoder = new google.maps.Geocoder();
        geocoder.geocode({'address': address}, function(results, status){
            if(status == google.maps.GeocoderStatus.OK) {
                var lat = results[0].geometry.location.lat();
                var lng = results[0].geometry.location.lng();
                // 小数点第六位以下を四捨五入した値を緯度経度にセット、小数点以下の値が第六位に満たない場合は0埋め
                document.getElementById("latitude").value = (Math.round(lat * 1000000) / 1000000).toFixed(6);
                document.getElementById("longitude").value = (Math.round(lat * 1000000) / 1000000).toFixed(6);
            }
        });
    }

    $('#attrLatLng').click(function(){
        var address = document.getElementById("address").value;
        attrLatLngFromAddress(address);
    });
});
</script>

<tr>
    <th>住所</th>
    <td>
        <input id="address" name="address" type="text" value="">
    </td>
</tr>


<tr>
    <th>緯度</th>
    <td>
        <input id="latitude" name="latitude" type="text" value="">
    </td>
</tr>

<tr>
    <th>経度</th>
    <td>
        <input id="longitude" name="longitude" type="text" value="">
    </td>
</tr>

<input type="button" value="住所から緯度経度を入力する" id="attrLatLng">

</body>
</html>
